(this.webpackJsonpsmokerpi=this.webpackJsonpsmokerpi||[]).push([[0],{257:function(e,t,a){e.exports=a(492)},304:function(e,t){},307:function(e,t,a){},314:function(e,t,a){},492:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(18),l=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(56),i=a(36),s=a(205),m=a(206),u=a.n(m),E=a(61),p=a(128);var d=Object(i.c)({smoker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{graphData:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_DATA_SUCCESS":return Object(E.a)({},e,{},t.data);case"SOCKET_MESSAGE_RECEIVED":return Object(E.a)({},e,{},t.payload);default:return e}}}),h=a(207),g=a.n(h);a(307);var f=a(81),S=a(11),y=a(498),v=a(504),k=a(505),b=a(87),A=a(503),C=a(129);function O(e){return r.a.createElement(y.a,null,r.a.createElement(v.a,{collapseOnSelect:!0,bg:"dark",variant:"dark",expand:"lg",fixed:"top"},r.a.createElement(v.a.Brand,null,e.appTitle),r.a.createElement(v.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(v.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(k.a,{className:"mr-auto"},r.a.createElement(C.LinkContainer,{to:"/"},r.a.createElement(b.a,{as:k.a.Link},"Home")),r.a.createElement(C.LinkContainer,{to:"/config"},r.a.createElement(b.a,{as:k.a.Link},"Config"))),r.a.createElement(k.a,null,r.a.createElement(A.a,{title:"Help",id:"basic-nav-dropdown"},r.a.createElement(A.a.Item,{href:"https://github.com/Phazeshift/smokerpi"},"About"))))))}var w,T=a(213),B=a(214),_=a(225),j=a(227),D=(a(313),a(314),a(499)),N=a(506),x=a(500),G=a(501),K=a(502),M=a(212),I=a(22),W=function(e){Object(j.a)(a,e);var t=Object(_.a)(a);function a(){return Object(T.a)(this,a),t.apply(this,arguments)}return Object(B.a)(a,[{key:"componentDidMount",value:function(){this.props.getState(),this.props.getAllGraph()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(D.a,null,r.a.createElement(N.a,{bg:"light"},r.a.createElement(N.a.Body,{className:"d-flex justify-content-center"},r.a.createElement("h1",null,this.props.smoker.temperature,"\xb0C")),r.a.createElement(N.a.Footer,{className:"text-muted"},r.a.createElement("small",null,"Blower: ",this.props.smoker.blower," Pid: ",this.props.smoker.pid?"On":"Off"," Target: ",this.props.smoker.targetTemperature)))),r.a.createElement(D.a,null,r.a.createElement(N.a,null,r.a.createElement(N.a.Body,null,r.a.createElement(x.a,null,r.a.createElement(G.a,{className:"d-flex justify-content-center"},r.a.createElement(K.a,null,r.a.createElement(M.a,{variant:"light",className:"ml-1",onClick:this.props.getState},"Test getState"),r.a.createElement(M.a,{variant:"light",className:"ml-1",onClick:this.props.toggleBlower},"Test blower"),r.a.createElement(M.a,{variant:"light",className:"ml-1",onClick:this.props.toggleAutomatic},"Test pid"),r.a.createElement(M.a,{variant:"light",className:"ml-1",onClick:this.props.getAllGraph},"Test graph"))))))),r.a.createElement(D.a,null,r.a.createElement(N.a,null,r.a.createElement(N.a.Body,null,r.a.createElement("div",{style:{paddingBottom:"56.25%",position:"relative",height:0}},r.a.createElement("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}},r.a.createElement(I.e,null,r.a.createElement(I.d,{data:this.props.smoker.graphData,margin:{top:5,right:20,left:10,bottom:5}},r.a.createElement(I.g,{dataKey:"x"}),r.a.createElement(I.f,null),r.a.createElement(I.b,null),r.a.createElement(I.a,{stroke:"#f5f5f5"}),r.a.createElement(I.c,{type:"monotone",dataKey:"t",stroke:"#ff7300",dot:!1,yAxisId:0}),r.a.createElement(I.c,{type:"monotone",dataKey:"b",stroke:"#82ca9d",dot:!1,yAxisId:1}),r.a.createElement(I.c,{type:"monotone",dataKey:"s",stroke:"#8884d8",dot:!1,yAxisId:0}))))))))))}}]),a}(n.Component),L=Object(c.connect)((function(e){return Object(E.a)({},e)}),(function(e){return{getTime:function(){return e((function(e){return fetch("/api/time").then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)})).then((function(t){p.toastr.removeByType("error"),e({type:"LOAD_DATA_SUCCESS",data:t})}),(function(e){p.toastr.error("Error loading data: ".concat(e.message))}))}))},getState:function(){return e((function(e){e({type:"SEND_WEBSOCKET_MESSAGE",method:"getState",payload:{}})}))},getAllGraph:function(){return e((function(e){e({type:"SEND_WEBSOCKET_MESSAGE",method:"getAllGraph",payload:{}})}))},toggleBlower:function(){return e((function(e){e({type:"SEND_WEBSOCKET_MESSAGE",method:"toggleBlower",payload:{}})}))},toggleAutomatic:function(){return e((function(e){e({type:"SEND_WEBSOCKET_MESSAGE",method:"toggleAutomatic",payload:{}})}))}}}))(W);function P(){return r.a.createElement("h2",null,"Config")}function R(){return r.a.createElement(f.BrowserRouter,null,r.a.createElement(O,{appTitle:"SmokerPi"}),r.a.createElement("div",null,r.a.createElement(S.g,null,r.a.createElement(S.d,{path:"/config"},r.a.createElement(P,null)),r.a.createElement(S.d,{path:"/"},r.a.createElement(L,null)))))}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.Provider,{store:(w=window.location.href,Object(i.d)(d,Object(i.a)(s.a,u.a,function(e){return function(t){var a=g.a.connect(e);return console.dir(a),a.on("message",(function(e){console.log(e),t.dispatch({type:"SOCKET_MESSAGE_RECEIVED",payload:e})})),function(e){return function(t){return"SEND_WEBSOCKET_MESSAGE"===t.type?(console.log(t),void a.emit(t.method,t.payload)):e(t)}}}}(w))))},r.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[257,1,2]]]);
//# sourceMappingURL=main.c05c4236.chunk.js.map