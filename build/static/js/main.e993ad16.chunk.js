(this.webpackJsonpsmokerpi=this.webpackJsonpsmokerpi||[]).push([[0],{216:function(e,t,a){e.exports=a(446)},263:function(e,t){},266:function(e,t,a){},268:function(e,t,a){},446:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(31),l=a.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(41),i=a(23),s=a(171),m=a(172),u=a.n(m),E=a(43),p=a(99);var d=Object(i.c)({smoker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{graphData:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_DATA_SUCCESS":return Object(E.a)({},e,{},t.data);case"SOCKET_MESSAGE_RECEIVED":return Object(E.a)({},e,{},t.payload);default:return e}}}),h=a(173),g=a.n(h);a(266);var f,y=a(174),S=a(175),v=a(186),k=a(187),A=(a(267),a(268),a(449)),O=a(450),b=a(454),w=a(451),C=a(452),T=a(453),_=a(455),B=a(13),j=function(e){Object(k.a)(a,e);var t=Object(v.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"componentDidMount",value:function(){this.props.getState(),this.props.getAllGraph()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(A.a,null,o.a.createElement(O.a,null,o.a.createElement(b.a,{bg:"light"},o.a.createElement(b.a.Body,{className:"d-flex justify-content-center"},o.a.createElement("h1",null,this.props.smoker.temperature,"\xb0C")),o.a.createElement(b.a.Footer,{className:"text-muted"},o.a.createElement("small",null,"Blower: ",this.props.smoker.blower," Pid: ",this.props.smoker.pid?"On":"Off"," Target: ",this.props.smoker.targetTemperature)))),o.a.createElement(O.a,null,o.a.createElement(b.a,null,o.a.createElement(b.a.Body,null,o.a.createElement(w.a,null,o.a.createElement(C.a,{className:"d-flex justify-content-center"},o.a.createElement(T.a,null,o.a.createElement(_.a,{variant:"light",className:"ml-1",onClick:this.props.getState},"Test getState"),o.a.createElement(_.a,{variant:"light",className:"ml-1",onClick:this.props.toggleBlower},"Test blower"),o.a.createElement(_.a,{variant:"light",className:"ml-1",onClick:this.props.toggleAutomatic},"Test pid"),o.a.createElement(_.a,{variant:"light",className:"ml-1",onClick:this.props.getAllGraph},"Test graph"))))))),o.a.createElement(O.a,null,o.a.createElement(b.a,null,o.a.createElement(b.a.Body,null,o.a.createElement("div",{style:{paddingBottom:"56.25%",position:"relative",height:0}},o.a.createElement("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}},o.a.createElement(B.e,null,o.a.createElement(B.d,{data:this.props.smoker.graphData,margin:{top:5,right:20,left:10,bottom:5}},o.a.createElement(B.g,{dataKey:"x"}),o.a.createElement(B.f,null),o.a.createElement(B.b,null),o.a.createElement(B.a,{stroke:"#f5f5f5"}),o.a.createElement(B.c,{type:"monotone",dataKey:"t",stroke:"#ff7300",dot:!1,yAxisId:0}),o.a.createElement(B.c,{type:"monotone",dataKey:"b",stroke:"#82ca9d",dot:!1,yAxisId:1}),o.a.createElement(B.c,{type:"monotone",dataKey:"s",stroke:"#8884d8",dot:!1,yAxisId:0}))))))))))}}]),a}(n.Component),D=Object(c.connect)((function(e){return Object(E.a)({},e)}),(function(e){return{getTime:function(){return e((function(e){return fetch("/api/time").then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)})).then((function(t){p.toastr.removeByType("error"),e({type:"LOAD_DATA_SUCCESS",data:t})}),(function(e){p.toastr.error("Error loading data: ".concat(e.message))}))}))},getState:function(){return e((function(e){e({type:"SEND_WEBSOCKET_MESSAGE",method:"getState",payload:{}})}))},getAllGraph:function(){return e((function(e){e({type:"SEND_WEBSOCKET_MESSAGE",method:"getAllGraph",payload:{}})}))},toggleBlower:function(){return e((function(e){e({type:"SEND_WEBSOCKET_MESSAGE",method:"toggleBlower",payload:{}})}))},toggleAutomatic:function(){return e((function(e){e({type:"SEND_WEBSOCKET_MESSAGE",method:"toggleAutomatic",payload:{}})}))}}}))(j);l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(c.Provider,{store:(f=window.location.href,Object(i.d)(d,Object(i.a)(s.a,u.a,function(e){return function(t){var a=g.a.connect(e);return console.dir(a),a.on("message",(function(e){console.log(e),t.dispatch({type:"SOCKET_MESSAGE_RECEIVED",payload:e})})),function(e){return function(t){return"SEND_WEBSOCKET_MESSAGE"===t.type?(console.log(t),void a.emit(t.method,t.payload)):e(t)}}}}(f))))},o.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[216,1,2]]]);
//# sourceMappingURL=main.e993ad16.chunk.js.map